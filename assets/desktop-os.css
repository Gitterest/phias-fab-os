:root{
  --pf-accent:#1e63c5;
  --pf-bg:#0b4a8b;
  --pf-panel:#f4f7ff;
  --pf-panel2:#e7eefb;
  --pf-border:#6a7c9b;
  --pf-text:#ffffff;
  --pf-muted:#d9e3f3;
  --pf-shadow:0 16px 32px rgba(0,0,0,.35);
  --pf-taskbar-height:48px;
}

*{box-sizing:border-box;}
html,body{height:100%; margin:0; font-family:Tahoma,Verdana,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif; background:#000; overflow:hidden;}
button{font-family:inherit}

.pf-os{position:fixed; inset:0; background:var(--pf-bg); color:var(--pf-text); user-select:none;}
.pf-wallpaper{position:absolute; inset:0; z-index:-2; background:linear-gradient(180deg, #0f4fa0, #0a3d78 70%);}
.pf-wallpaper img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:.75; filter:saturate(1.05) contrast(1.05);}
.pf-wallpaper::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.35));}

.pf-desktop{position:absolute; inset:0 0 var(--pf-taskbar-height) 0; padding:10px;}
.pf-icons{display:grid; grid-auto-flow:column; grid-template-rows:repeat(auto-fill, 74px); grid-auto-columns:92px; gap:10px; align-content:start; list-style:none; margin:0; padding:0;}
.pf-icon{border-radius:3px; padding:8px 6px; text-align:center; background:transparent; border:1px solid transparent; outline:0; cursor:pointer;}
.pf-iconimg{height:44px; display:flex; align-items:center; justify-content:center; margin-bottom:6px; position:relative;}
.pf-iconimg img{width:44px; height:44px; border-radius:3px; object-fit:cover; display:block;}
.pf-emoji{font-size:28px;}
.pf-iconlabel{font-size:11px; line-height:1.1; color:var(--pf-text); display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; padding:0 2px;}

.pf-taskbar{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  height:var(--pf-taskbar-height);
  background:linear-gradient(180deg, #3c79c6, #1a5aa8);
  border-top:1px solid #84aee2;
  display:flex;
  align-items:center;
  gap:6px;
  padding:0 8px;
  z-index:6000;
}
.pf-startbtn{
  height:34px;
  border-radius:3px;
  border:1px solid #0b5a20;
  background:linear-gradient(180deg, #3fd154, #178a28);
  color:#ffffff;
  padding:0 12px;
  display:flex;
  align-items:center;
  gap:8px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.55);
  cursor:pointer;
}
.pf-startbtn:hover{background:linear-gradient(180deg, #52da65, #1a952d);}
.pf-startbtn--active{background:linear-gradient(180deg, #2eb146, #0f6d1e); box-shadow:inset 0 1px 0 rgba(255,255,255,.45);}
.pf-startmark{color:#ffffff; font-weight:800;}
.pf-starttext{font-size:12px; font-weight:700; letter-spacing:.2px;}

.pf-taskbtn{
  height:30px;
  min-width:32px;
  border-radius:3px;
  border:1px solid #0f3d78;
  background:linear-gradient(180deg, #4b86d4, #2c66b4);
  color:#ffffff;
  padding:0 10px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  cursor:pointer;
}
.pf-taskbtn:hover{background:linear-gradient(180deg, #5c97e4, #2f6fbe);}

.pf-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:18px;
  height:18px;
  padding:0 6px;
  border-radius:10px;
  background:#ffd25c;
  border:1px solid #c99a2c;
  color:#2a2a2a;
  font-size:11px;
}

.pf-tasks{
  display:flex;
  gap:6px;
  list-style:none;
  margin:0 6px;
  padding:0;
  flex:1;
  overflow-x:auto;
  overflow-y:hidden;
  align-items:center;
}
.pf-task{
  display:flex;
  align-items:center;
  gap:8px;
  height:30px;
  border-radius:3px;
  border:1px solid #0f3d78;
  background:linear-gradient(180deg, #4b86d4, #2c66b4);
  color:#ffffff;
  padding:0 10px;
  max-width:240px;
  flex:0 0 auto;
}
.pf-task[aria-selected="true"]{border-color:#ffffff; box-shadow:inset 0 0 0 1px rgba(255,255,255,.35);}
.pf-task__title{font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:170px;}
.pf-task__min{margin-left:auto; opacity:.85; font-size:12px;}
.pf-task:hover{background:linear-gradient(180deg, #5c97e4, #2f6fbe);}

.pf-clock{font-size:12px; color:#eef4ff; padding:0 6px; white-space:nowrap;}

.pf-startmenu{
  position:fixed;
  bottom:calc(var(--pf-taskbar-height) + 4px);
  left:6px;
  width:min(520px, calc(100vw - 12px));
  background:#f3f6ff;
  border:1px solid #7d90b0;
  border-radius:4px;
  box-shadow:var(--pf-shadow);
  z-index:7000;
  color:#1b2b3b;
}
.pf-startmenu__inner{display:grid; grid-template-columns: 1fr 200px; min-height:340px;}
.pf-startmenu__left{padding:10px;}
.pf-startmenu__right{padding:10px; border-left:1px solid #b7c3d8; background:#e6edf8;}

.pf-menu{list-style:none; margin:0; padding:0;}
.pf-menu__item{position:relative;}
.pf-menu__btn{width:100%; text-align:left; border:0; background:transparent; color:#1b2b3b; padding:8px 10px; border-radius:2px; display:flex; align-items:center; justify-content:space-between; gap:10px; cursor:pointer;}
.pf-menu__btn:hover,.pf-menu__btn:focus{background:#2a6bd6; color:#ffffff; outline:0;}
.pf-menu__label{font-size:13px;}
.pf-menu__arrow{opacity:.75;}

.pf-flyout{position:absolute; top:0; left:calc(100% - 10px); width:300px; background:#f3f6ff; border:1px solid #7d90b0; border-radius:3px; box-shadow:var(--pf-shadow); padding:10px; z-index:7001; color:#1b2b3b;}
.pf-flyout--third{left:calc(100% - 10px); top:0; width:280px;}
.pf-menu--flyout .pf-menu__btn{padding:9px 10px;}
.pf-menu__btn--cmd{justify-content:flex-start;}
.pf-startmenu__empty{padding:14px; color:#5b6a7a; font-size:13px;}

.pf-quick{display:flex; flex-direction:column; gap:8px;}
.pf-quick__btn{border:1px solid #9aacbe; background:#f5f8ff; color:#1b2b3b; border-radius:3px; padding:10px; text-align:left; cursor:pointer;}
.pf-quick__btn:hover{border-color:#2a6bd6; background:#dfe9fb;}

.pf-windowlayer{position:absolute; inset:0 0 var(--pf-taskbar-height) 0; pointer-events:none; z-index:2000;}

.pf-win{position:absolute; width:min(900px, calc(100vw - 24px)); height:min(600px, calc(100vh - var(--pf-taskbar-height) - 24px));
  left:60px; top:60px; background:var(--pf-panel); border:1px solid var(--pf-border);
  border-radius:0; box-shadow:var(--pf-shadow); overflow:hidden; pointer-events:auto; color:#1b2b3b;
}
.pf-win[aria-hidden="true"]{display:none;}
.pf-win__bar{height:30px; display:flex; align-items:center; gap:8px; padding:0 8px;
  background:linear-gradient(180deg, #7aa9e6, #3e73c7);
  border-bottom:1px solid #2a5d9c;
}
.pf-win--active .pf-win__bar{background:linear-gradient(180deg, #88b5f0, #2d69c0);}
.pf-win__title{font-size:12px; font-weight:700; color:#ffffff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; flex:1;}
.pf-win__controls{display:flex; gap:4px;}
.pf-win__ctrl{width:24px; height:20px; border-radius:0; border:1px solid #2a5d9c; background:#dfe8f6; color:#1a2a3a; cursor:pointer; font-size:12px; line-height:1;}
.pf-win__ctrl:hover{background:#f1f5fb;}
.pf-win__ctrl--close{background:#f7d4d4; border-color:#a24444; color:#6a1c1c;}
.pf-win__ctrl--close:hover{background:#f1bebe;}

.pf-win__body{height:calc(100% - 30px); overflow:auto; padding:14px; color:#1b2b3b;}
.pf-win__body a{color:#1e63c5;}
.pf-win__body img{max-width:100%; height:auto;}

.pf-wincontent{max-width:100%;}
.pf-winheader{margin-bottom:12px;}
.pf-wintitle{margin:0 0 8px 0; font-size:18px;}
.pf-windesc{color:#4f5e6f; font-size:13px; line-height:1.45;}
.pf-winprice{font-weight:700; margin-bottom:10px;}
.pf-winrow{display:flex; gap:10px; align-items:center; margin:10px 0;}
.pf-winlabel{font-size:13px; color:#4f5e6f;}
.pf-wininput{background:#ffffff; border:1px solid #9aa8bd; color:#1b2b3b; border-radius:0; padding:8px 10px; outline:0;}
.pf-wininput:focus{border-color:#2a6bd6; box-shadow:0 0 0 2px rgba(42,107,214,.2);}
.pf-winbtn{border:1px solid #2a6bd6; background:#e7f0ff; color:#1b2b3b; border-radius:0; padding:8px 10px; cursor:pointer; font-weight:700;}
.pf-winbtn:hover{background:#d8e7ff;}
.pf-winbtn--ghost{border-color:#9aa8bd; background:#f5f7fb;}
.pf-winbtn--ghost:hover{background:#e7edf7;}
.pf-winbtn:disabled{
  border-color:#b9c3d3;
  background:#eef2f8;
  color:#7a8797;
  cursor:default;
  box-shadow:none;
  opacity:1;
}

/* Studio-style status bar (XP-ish) */
.pf-statusbar{
  position: sticky;
  bottom: -14px;
  margin: 14px -14px -14px -14px;
  padding: 6px 10px;
  background: linear-gradient(180deg, #eef4ff, #e2eaf9);
  border-top: 1px solid #b7c3d8;
  color: #1b2b3b;
  font-size: 12px;
}
.pf-statusbar--error{
  background: linear-gradient(180deg, #fff1f1, #f7dcdc);
  border-top-color: #c99a9a;
  color:#5a1b1b;
}

.pf-grid{display:grid; grid-template-columns:repeat(auto-fill, minmax(180px, 1fr)); gap:12px;}
.pf-card{border:1px solid #c3cbd9; background:#ffffff; border-radius:0; overflow:hidden; color:#1b2b3b; padding:0; cursor:pointer; text-align:left;}
.pf-card:hover{border-color:#2a6bd6; background:#f0f6ff;}
.pf-card img{width:100%; height:140px; object-fit:cover; display:block;}
.pf-card__meta{padding:10px;}
.pf-card__title{font-size:13px; font-weight:650; margin-bottom:4px;}
.pf-card__price{font-size:12px; color:#526173;}

/* Tools: XP-ish tool badges inside the Tools window */
.pf-toolcard__meta{display:flex; gap:10px; align-items:center;}
.pf-toolcard__text{min-width:0;}
.pf-toolicon{
  width:34px;
  height:34px;
  border:1px solid #7d90b0;
  background:linear-gradient(180deg, #ffffff, #e6edf8);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.9), inset 0 -1px 0 rgba(0,0,0,.05);
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
}
.pf-toolicon__glyph{font-size:18px; line-height:1;}
.pf-toolicon--disabled{opacity:.55;}

/* Image Compressor app layout */
.pf-compressor__layout{
  display:grid;
  grid-template-columns: minmax(280px, 360px) minmax(260px, 1fr);
  gap:12px;
  align-items:start;
}
.pf-compressor__panel{
  border:1px solid #c3cbd9;
  border-radius:2px;
  padding:12px;
  background:#f5f7fb;
}
.pf-compressor__drop{
  border:1px solid #9aa8bd;
  background:#ffffff;
  padding:10px;
  border-radius:2px;
}
.pf-compressor__drop:focus{outline:2px solid rgba(42,107,214,.35); outline-offset:1px;}
.pf-compressor__drop--over{border-color:#2a6bd6; background:#e7f0ff;}
.pf-compressor__previews{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
.pf-compressor__imgwrap{
  border:1px solid #c3cbd9;
  background:#ffffff;
  padding:8px;
}
.pf-compressor__img{
  display:block;
  width:100%;
  max-height:240px;
  object-fit:contain;
  background:#ffffff;
}
.pf-compressor__stats{
  margin-top:8px;
  font-size:12px;
  color:#526173;
}
@media (max-width: 760px){
  .pf-compressor__layout{grid-template-columns:1fr;}
  .pf-compressor__previews{grid-template-columns:1fr;}
}

/* File Converter app layout (mirrors compressor) */
.pf-converter__layout{
  display:grid;
  grid-template-columns: minmax(280px, 360px) minmax(260px, 1fr);
  gap:12px;
  align-items:start;
}
.pf-converter__panel{
  border:1px solid #c3cbd9;
  border-radius:2px;
  padding:12px;
  background:#f5f7fb;
}
.pf-converter__drop{
  border:1px solid #9aa8bd;
  background:#ffffff;
  padding:10px;
  border-radius:2px;
}
.pf-converter__drop:focus{outline:2px solid rgba(42,107,214,.35); outline-offset:1px;}
.pf-converter__drop--over{border-color:#2a6bd6; background:#e7f0ff;}
.pf-converter__previews{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}
.pf-converter__imgwrap{
  border:1px solid #c3cbd9;
  background:#ffffff;
  padding:8px;
}
.pf-converter__img{
  display:block;
  width:100%;
  max-height:240px;
  object-fit:contain;
  background:#ffffff;
}
.pf-converter__stats{
  margin-top:8px;
  font-size:12px;
  color:#526173;
}
@media (max-width: 760px){
  .pf-converter__layout{grid-template-columns:1fr;}
  .pf-converter__previews{grid-template-columns:1fr;}
}

.pf-winproduct{display:grid; grid-template-columns: minmax(220px, 1fr) minmax(240px, 1fr); gap:14px;}
.pf-winproduct__media img{width:100%; border-radius:0; display:block;}
.pf-winfooter{margin-top:12px; color:#526173; font-size:12px;}
@media (max-width: 760px){
  .pf-winproduct{grid-template-columns:1fr;}
  .pf-startmenu__inner{grid-template-columns:1fr;}
  .pf-startmenu__right{display:none;}
}


/* Maximized windows */
.pf-win[data-max="true"]{
  border-radius: 0;
}

/* Reduce motion friendly */
@media (prefers-reduced-motion: reduce){
  .pf-win{transition:none !important;}
}



/* Local UI scale (Settings app) */
:root{ --pf-ui-scale: 1; }
.pf-os{ zoom: var(--pf-ui-scale); }

html.pf-reduce-motion *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
